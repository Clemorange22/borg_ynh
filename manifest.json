{
    "name": "Borg",
    "id": "borg",
    "packaging_format": 1,
    "description": {
        "en": "Backup your server on another server using Borg.",
        "fr": "Sauvegardez votre serveur sur un autre serveur avec Borg."
    },
    "version": "1.1.10~ynh1",
    "url": "https://borgbackup.readthedocs.io",
    "license": "BSD-3-Clause",
    "maintainer": {
        "name": "ljf",
        "email": "ljf+borg_ynh@reflexlibre.net",
        "url": "https://reflexlibre.net"
    },
    "requirements": {
        "yunohost": ">= 2.7.14"
    },
    "multi_instance": true,
    "services": [],
    "arguments": {
        "install" : [
            {
                "name": "server",
                "ask": {
                    "en": "What is the domain name of the remote server when backups will be sent?",
                    "fr": "Quel est le nom de domaine du serveur distant sur lequel seront envoyés les sauvegardes ?"
                },
                "help":{
                    "en": "If the ssh remote server of B does not use a standard port, you could specify it with DOMAIN:PORT",
                    "fr": "Si le serveur ssh de B n'utilise pas un port standard, vous pouvez le spécifier avec DOMAIN:PORT"
                },
                "example": "serverb.local:22"
            },
            {
                "name": "ssh_user",
                "ask": {
                    "en": "Give the ssh user to use to connect on Server B",
                    "fr": "Indiquez l'utilisateur ssh pour se connecter au Serveur B"
                },
                "help":{
                    "en": "It is not a user of this Server A. The ssh user will be created by installation of Borg Server App on Server B",
                    "fr": "Ce n'est pas un utilisateur de ce Serveur A. L'utilisateur ssh sera créé sur le Serveur B lors de l'installation de l'App Borg Server"
                },
                "example": "servera"
            },
            {
                "name": "passphrase",
                "type": "password",
                "ask": {
                    "en": "Give a strong passphrase to encrypt your backups. No blank space",
                    "fr": "Indiquez une phrase de passe forte pour chiffre vos sauvegardes. Sans espaces"
                },
                "help":{
                    "en": "Keep it safe! ...if you want to be able to restore. Do not communicate it to Server B holder or anyone else. ",
                    "fr": "Gardez-la précieusement! ...si vous voulez pouvoir restaurer. Ne donnez pas la clé au possesseur du Serveur B, ni personne."
                },
            },
			{
				"name": "conf",
				"type": "boolean",
				"ask": {
					"en": "Backup your YunoHost configuration ?",
					"fr": "Sauvegarder la configuration du système YunoHost ?"
				},
				"default": true
			},
			{
				"name": "data",
				"type": "boolean",
				"ask": {
					"en": "Backup emails and user home directory ?",
					"fr": "Sauvegarder les mails et les répertoires utilisateur ?"
				},
				"default": true
			},
			{
				"name": "apps",
				"ask": {
					"en": "Which apps to backup (list separated by comma or 'all') ?",
					"fr": "Quelles applications sauvegarder (liste séparée par virgule ou 'all' ?"
				},
				"default": "all"
            },
            {
                "name": "on_calendar",
                "ask": {
                    "en": "Give the backup frequency (see systemd OnCalendar format)",
                    "fr": "Indiquez la fréquence de sauvegarde (voir le format OnCalendar de systemd)"
                },
                "example": "Daily",
                "default": "Daily"
            }
        ]
    }
}
